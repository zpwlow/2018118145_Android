## 一、实验要求

自己创建子线程的程序框架，消息处理机制和多线程之间的数据交换

## 二、实验目的

了解多线程的框架，消息的处理机制，以及多线程之间的数据交换

## 三、实验过程

### 1、子线程发送消息给UI

运行程序后，界面如下图一，点击程序的第一个按钮后，会在UI更新一个消息,这个消息是线程一发送给UI 的。

<img src="../image/image-20201119125544796.png" alt="image-20201119125544796" style="zoom:67%;" /><img src="../image/image-20201119130009805.png" alt="image-20201119130009805" style="zoom:67%;" />

线程一发送消息如下图所示：

<img src="../image/image-20201119125748319.png" alt="image-20201119125748319"  />

UI 接受线程一的消息如下图：

![image-20201119125823910](../image/image-20201119125823910.png)

### 2、UI发送消息给子线程

点击程序的第二个按钮，查看程序打印的消息，如下图所示：

<img src="../image/image-20201119130628301.png" alt="image-20201119130628301" style="zoom:150%;" />

UI 发送消息的操作如下图，发送消息之前，要先开始运行线程二

![image-20201119131136398](../image/image-20201119131136398.png)

线程二接受消息的操作如下图：

![image-20201119131335902](../image/image-20201119131335902.png)

### 3、子线程发送消息给子线程

点击程序的的第三个按钮，运行的结果如下图：

<img src="../image/image-20201119131751965.png" alt="image-20201119131751965" style="zoom:150%;" />

线程四发送消息的程序如下图：

![image-20201119132042559](../image/image-20201119132042559.png)

线程三接受消息的程序如下图：

![image-20201119132025062](../image/image-20201119132025062.png)

## 四、实验感想

经过这次实验，我理解了异步消息的处理机制，多线程之间的数据交换，也明白了子线程的框架。